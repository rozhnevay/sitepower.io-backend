webpackJsonp([1],{"+uSr":function(t,e){},"/+w8":function(t,e){},0:function(t,e){},"9mLB":function(t,e){},ABr5:function(t,e){},J46J:function(t,e){},JBQx:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i=s("mtWM"),r=s.n(i),n={name:"menu-component",data:function(){return{logoutLabel:"Log out",loginLabel:"Log in",signupLabel:"Sign up",privateLabel:"My Account",isDataLoaded:!1}},beforeMount:function(){var t=this;r.a.get("/api/user").then(function(e){console.log(e),t.$store.commit("isUserLoggedIn",!0),t.$store.commit("setUserName",e.data.user.name),t.$store.commit("privateOpen","Chat"),t.isDataLoaded=!0}).catch(function(e){t.$store.commit("isUserLoggedIn",!1),t.$store.commit("setUserName",""),t.isDataLoaded=!0})},computed:{isUserLoggedIn:function(){return this.$store.getters.isUserLoggedIn},getUserName:function(){return this.$store.getters.getUserName}},methods:{logout:function(){var t=this;r.a.get("/api/logout").then(function(e){t.$store.commit("isUserLoggedIn",!1),t.$store.commit("isUserSignedUp",!1),t.$store.commit("logout",!0),t.$store.commit("privateOpen","Chat"),t.$router.push({name:"homepage-component"})})},showLoginModal:function(){this.$store.commit("showLoginModal",!0)},showSignupModal:function(){this.$store.commit("showSignupModal",!0)}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.isDataLoaded?s("div",{staticClass:"navbar-item"},[s("div",{staticClass:"field is-grouped"},[s("p",{staticClass:"control"},[t.isUserLoggedIn?t._e():s("a",{staticClass:"button",on:{click:t.showSignupModal}},[t._m(0),t._v(" "),s("span",[t._v(t._s(t.signupLabel))])])]),t._v(" "),s("p",{staticClass:"control"},[t.isUserLoggedIn?t._e():s("a",{staticClass:"button",on:{click:t.showLoginModal}},[t._m(1),t._v(" "),s("span",[t._v(t._s(t.loginLabel))])])])])]):t._e(),t._v(" "),t.isUserLoggedIn?s("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[s("a",{staticClass:"navbar-link"},[t._v("\n        Welcome "+t._s(t.getUserName)+"\n      ")]),t._v(" "),s("div",{staticClass:"navbar-dropdown is-boxed"},[s("hr",{staticClass:"navbar-divider"}),t._v(" "),s("a",{staticClass:"navbar-item",on:{click:t.logout}},[t._v("\n          "+t._s(t.logoutLabel)+"\n        ")])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-user-plus"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-user"})])}]};var l=s("VU/8")(n,o,!1,function(t){s("zpPB")},"data-v-7605a5d0",null).exports,c={name:"private-header-component",data:function(){return{isMenuOpen:!1}},methods:{chatOpen:function(){this.$store.commit("privateOpen","Chat")},prefOpen:function(){this.$store.commit("privateOpen","Pref")}},computed:{isUserLoggedIn:function(){return this.$store.getters.isUserLoggedIn}},components:{"menu-component":l}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"navbar navbar-default navbar-fixed-top templatemo-nav",attrs:{role:"navigation"}},[s("div",{staticClass:"container"},[t._m(0),t._v(" "),t.isUserLoggedIn?s("div",{staticClass:"collapse navbar-collapse"},[s("ul",{staticClass:"nav navbar-nav navbar-right text-uppercase"},[s("li",[s("a",{on:{click:t.chatOpen}},[t._v("My Chats")])]),t._v(" "),s("li",[s("a",{on:{click:t.prefOpen}},[t._v("My Preferences")])])])]):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isMenuOpen,expression:"isMenuOpen"}],staticClass:"navbar-end"},[s("menu-component")],1),t._v(" "),s("div",{staticClass:"navbar-end is-hidden-mobile"},[s("menu-component")],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navbar-header"},[e("button",{staticClass:"navbar-toggle",attrs:{"data-toggle":"collapse","data-target":".navbar-collapse"}},[e("span",{staticClass:"icon icon-bar"}),this._v(" "),e("span",{staticClass:"icon icon-bar"}),this._v(" "),e("span",{staticClass:"icon icon-bar"})])])}]},d=s("VU/8")(c,h,!1,null,null,null).exports,m=s("HI0L"),u=s.n(m),p=s("DmT9"),g=s.n(p),v=s("NYxO");a.a.use(v.a);var f=new v.a.Store({state:{userInfo:{isLoggedIn:!1,isSignedUp:!1,name:""},systemInfo:{openLoginModal:!1,openSignupModal:!1,openResetModal:!1,privateOpen:"Chat",chats:[],activeChatId:"",activeChat:{},activeChatMessages:[]}},getters:{isUserLoggedIn:function(t){return t.userInfo.isLoggedIn},isUserSignedUp:function(t){return t.userInfo.isSignedUp},getUserName:function(t){return t.userInfo.name},isLoginModalOpen:function(t){return t.systemInfo.openLoginModal},isSignupModalOpen:function(t){return t.systemInfo.openSignupModal},isResetModalOpen:function(t){return t.systemInfo.openResetModal},privateOpen:function(t){return t.systemInfo.privateOpen},getChats:function(t){return t.systemInfo.chats},getActiveChatId:function(t){return t.systemInfo.activeChatId},getActiveChat:function(t){return t.systemInfo.activeChat},getActiveChatMessages:function(t){return t.systemInfo.activeChatMessages}},mutations:{isUserLoggedIn:function(t,e){t.userInfo.isLoggedIn=e},isUserSignedUp:function(t,e){t.userInfo.isSignedUp=e},showLoginModal:function(t,e){t.systemInfo.openLoginModal=e},showSignupModal:function(t,e){t.systemInfo.openSignupModal=e},showResetModal:function(t,e){t.systemInfo.openResetModal=e,e&&(t.systemInfo.openLoginModal=!e)},setUserName:function(t,e){t.userInfo.name=e},privateOpen:function(t,e){t.systemInfo.privateOpen=e},initChats:function(t,e){t.systemInfo.chats=e},setActiveChatId:function(t,e){t.systemInfo.activeChatId=e,t.systemInfo.activeChat=t.systemInfo.chats.filter(function(e){return e.sitepower_id==t.systemInfo.activeChatId}),t.systemInfo.activeChat&&t.systemInfo.activeChat[0]&&t.systemInfo.activeChat[0].chat?t.systemInfo.activeChatMessages=t.systemInfo.activeChat[0].chat.messages:t.systemInfo.activeChatMessages=[]},socket_receive:function(t,e){console.log("receive"),console.log(e);var s=void 0;s="to_user"==e.direction?e.sender_id:e.recepient_id;var a=t.systemInfo.chats.filter(function(t){return t.sitepower_id==s})[0];a&&(a.chat=a.chat?a.chat:{},a.chat.messages=a.chat.messages?a.chat.messages:[],a.chat.messages.push(e),t.systemInfo.activeChatId==s&&(t.systemInfo.activeChatMessages=a.chat.messages))}},actions:{}});a.a.use(s("8AgW")),a.a.use(new u.a({debug:!0,connection:g()("/",{path:"/socket.io"}),vuex:{store:f,actionPrefix:"socket_",mutationPrefix:"socket_"}}));var _=a.a.extend({name:"ChatBody",data:function(){return{msg:""}},mounted:function(){},methods:{submitForm:function(){var t={direction:"from_user"};t.recepient_id=this.$store.getters.getActiveChatId,t.body=this.msg,this.$socket.emit("send",t),this.msg=""}},computed:{getId:function(){return this.$store.getters.getActiveChatId},messages:function(){return this.$store.getters.getActiveChatMessages}}}),C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-8 col-xl-6 chat-body"},[s("div",{staticClass:"card"},[s("span",[t._v("Chat with "+t._s(t.getId))]),t._v(" "),s("ul",{attrs:{id:"messages"}},t._l(t.messages,function(e){return s("li",{staticClass:"message",class:e.direction},[t._v(t._s(e.body))])}),0),t._v(" "),s("form",{attrs:{action:""}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],attrs:{id:"m",autocomplete:"off"},domProps:{value:t.msg},on:{input:function(e){e.target.composing||(t.msg=e.target.value)}}}),s("button",{on:{click:function(e){return e.preventDefault(),t.submitForm(e)}}},[t._v("Send")])])])])},staticRenderFns:[]};var E={name:"Chat",data:function(){return{}},created:function(){var t=this;r.a.get("/api/chats").then(function(e){t.$store.commit("initChats",e.data)}).catch(function(t){})},methods:{openChat:function(t){this.chats.map(function(e){return e.status=e.id!=t.id?"inactive":"active"}),this.$store.commit("setActiveChatId",t.sitepower_id)}},computed:{chats:function(){return this.$store.getters.getChats},activeChatId:function(){return this.$store.getters.getActiveChatId}},components:{"chat-body-component":s("VU/8")(_,C,!1,function(t){s("9mLB")},"data-v-4b64480b",null).exports}},b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid h-100"},[s("div",{staticClass:"row justify-content-center h-100"},[s("div",{staticClass:"col-md-4 col-xl-3 chat"},[s("div",{staticClass:"card mb-sm-3 mb-md-0 contacts_card"},[s("div",{staticClass:"card-body contacts_body"},[s("ul",{staticClass:"contacts"},t._l(t.chats,function(e){return s("li",[s("div",{staticClass:"d-flex bd-highlight",class:e.status,on:{click:function(s){return t.openChat(e)}}},[s("div",{staticClass:"user_info"},[s("span",[t._v("Example Chat # "+t._s(e.id))]),t._v(" "),s("p",[t._v(t._s(e.created))])])])])}),0)])])]),t._v(" "),s("chat-body-component",{attrs:{id:t.activeChatId}})],1)])},staticRenderFns:[]};var w={render:function(){var t=this.$createElement;return(this._self._c||t)("h1",[this._v("Pref Component!")])},staticRenderFns:[]};var L={name:"Body",computed:{activeComponent:function(){return this.$store.getters.privateOpen}},components:{Chat:s("VU/8")(E,b,!1,function(t){s("/+w8")},null,null).exports,Pref:s("VU/8")({name:"Pref"},w,!1,function(t){s("+uSr")},"data-v-39509651",null).exports}},U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"private-body"}},[e(this.activeComponent,{tag:"component"})],1)},staticRenderFns:[]};var y={name:"Private",components:{"header-component":d,"body-component":s("VU/8")(L,U,!1,function(t){s("kE69")},"data-v-19f616e2",null).exports},computed:{isUserLoggedIn:function(){return this.$store.getters.isUserLoggedIn}}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this.isUserLoggedIn?e("div",{attrs:{id:"private"}},[e("header-component"),this._v(" "),e("body-component")],1):e("div",[e("h1",[this._v("You are not authorized!")])])])},staticRenderFns:[]};var P=s("VU/8")(y,I,!1,function(t){s("J46J")},null,null).exports,W={name:"header-component",data:function(){return{isMenuOpen:!1}},components:{"menu-component":l}},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{staticClass:"navbar navbar-default navbar-fixed-top templatemo-nav",attrs:{role:"navigation"}},[e("div",{staticClass:"container"},[this._m(0),this._v(" "),this._m(1),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.isMenuOpen,expression:"isMenuOpen"}],staticClass:"navbar-end"},[e("menu-component")],1),this._v(" "),e("div",{staticClass:"navbar-end is-hidden-mobile"},[e("menu-component")],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"navbar-header"},[e("button",{staticClass:"navbar-toggle",attrs:{"data-toggle":"collapse","data-target":".navbar-collapse"}},[e("span",{staticClass:"icon icon-bar"}),this._v(" "),e("span",{staticClass:"icon icon-bar"}),this._v(" "),e("span",{staticClass:"icon icon-bar"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"collapse navbar-collapse"},[s("ul",{staticClass:"nav navbar-nav navbar-right text-uppercase"},[s("li",[s("a",{attrs:{href:"#home"}},[t._v("Home")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#feature"}},[t._v("Features")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#pricing"}},[t._v("Pricing")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#download"}},[t._v("Download")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#contact"}},[t._v("Contact")])])])])}]},k=s("VU/8")(W,$,!1,null,null,null).exports;function M(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}var R={name:"login-component",data:function(){return{modalTitle:"Log in",modalTitleLoggedIn:"Welcome!",primaryBtnLabel:"Log in",emailRequiredLabel:"Email required",passwordRequiredLabel:"Password required",emailNotValidLabel:"Valid email required",btnLoggedInLabel:"Close",emailPlaceholder:"Your email",email:"",password:"",highlightEmailWithError:null,highlightPasswordWithError:null,isFormSuccess:!1,loginError:"",resetLabel:"Forgot passsword?"}},computed:{isUserLoggedIn:function(){return this.$store.getters.isUserLoggedIn},openModal:function(){return!!this.$store.getters.isLoginModalOpen}},methods:{closeModal:function(){this.$store.commit("showLoginModal",!1)},showResetModal:function(){this.$store.commit("showResetModal",!0)},login:function(t,e){var s={email:t,password:e};return r.a.post("/api/login",s)},checkForm:function(t){var e=this;t.preventDefault(),this.email&&this.password&&(this.highlightEmailWithError=!1,this.highlightPasswordWithError=!1,this.login(this.email,this.password).then(function(t){e.isFormSuccess=!0,e.$store.commit("isUserLoggedIn",e.isFormSuccess),e.loginError="",e.$store.commit("setUserName",t.data.name),console.log(t)}).catch(function(t){e.isFormSuccess=!1,e.$store.commit("isUserLoggedIn",e.isFormSuccess),console.log(t),e.loginError="Неверное имя пользователя или пароль"})),this.email?this.highlightEmailWithError=!1:(this.highlightEmailWithError=!0,this.email&&!M(this.email)&&(this.emailRequiredLabel=this.emailNotValidLabel)),this.password?this.highlightPasswordWithError=!1:this.highlightPasswordWithError=!0},checkEmailOnKeyUp:function(t){t&&M(t)?this.highlightEmailWithError=!1:(this.highlightEmailWithError=!0,M(t)||(this.emailRequiredLabel=this.emailNotValidLabel))},checkPasswordOnKeyUp:function(t){this.highlightPasswordWithError=!t}}},x={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:[t.openModal?"is-active":"","modal"]},[s("div",{staticClass:"modal-background"}),t._v(" "),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[t.isUserLoggedIn?t._e():s("p",{staticClass:"modal-card-title"},[t._v(t._s(t.modalTitle))]),t._v(" "),t.isUserLoggedIn?s("p",{staticClass:"modal-card-title"},[t._v(t._s(t.modalTitleLoggedIn))]):t._e(),t._v(" "),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.closeModal}})]),t._v(" "),s("form",{attrs:{action:"#",method:"post"},on:{submit:t.checkForm}},[s("section",{staticClass:"modal-card-body"},[t.isUserLoggedIn?t._e():s("div",[s("div",{staticClass:"field"},[s("p",{staticClass:"control has-icons-left has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],class:[t.highlightEmailWithError?"input is-danger":"input"],attrs:{type:"email",placeholder:t.emailPlaceholder,name:"emailName"},domProps:{value:t.email},on:{keyup:function(e){return t.checkEmailOnKeyUp(t.email)},input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),null!==t.highlightEmailWithError?s("span",{staticClass:"icon is-small is-right"},[s("i",{class:[t.highlightEmailWithError?"fas fa-exclamation-circle":"fas fa-check"]})]):t._e()]),t._v(" "),t.highlightEmailWithError?s("p",{staticClass:"help is-danger"},[t._v(t._s(t.emailRequiredLabel))]):t._e()]),t._v(" "),s("div",{staticClass:"field"},[s("p",{staticClass:"control has-icons-left has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],class:[t.highlightPasswordWithError?"input is-danger":"input"],attrs:{type:"password",placeholder:"Your password",name:"passwordName"},domProps:{value:t.password},on:{keyup:function(e){return t.checkPasswordOnKeyUp(t.password)},input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),t._m(1),t._v(" "),null!==t.highlightPasswordWithError?s("span",{staticClass:"icon is-small is-right"},[s("i",{class:[t.highlightPasswordWithError?"fas fa-exclamation-circle":"fas fa-check"]})]):t._e()]),t._v(" "),t.highlightPasswordWithError?s("p",{staticClass:"help is-danger"},[t._v(t._s(t.passwordRequiredLabel))]):t._e()])]),t._v(" "),t.loginError?s("div",{staticClass:"level"},[s("p",{staticClass:"help is-danger"},[t._v(t._s(t.loginError))])]):t._e(),t._v(" "),t.isUserLoggedIn?s("div",{staticClass:"level"},[t._m(2)]):t._e()]),t._v(" "),s("footer",{staticClass:"modal-card-foot"},[t.isUserLoggedIn?t._e():s("button",{staticClass:"button is-info",attrs:{type:"submit"}},[t._v(t._s(t.primaryBtnLabel))]),t._v(" "),t.isUserLoggedIn?s("button",{staticClass:"button is-info",attrs:{type:"button"},on:{click:t.closeModal}},[t._v(t._s(t.btnLoggedInLabel))]):t._e(),t._v(" "),s("span",{staticClass:"btn btn-link",on:{click:t.showResetModal}},[t._v(t._s(t.resetLabel))])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fas fa-envelope"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fas fa-lock"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"level-item has-text-centered"},[e("div",[e("p",{staticClass:"title"},[this._v("Welcome back!")]),this._v(" "),e("p",{staticClass:"heading"},[this._v("Now you are logged in")])])])}]};var S=s("VU/8")(R,x,!1,function(t){s("i9UK")},null,null).exports,N={name:"registration-component",data:function(){return{modalTitle:"Sign up",modalTitleRegistered:"Welcome ",primaryBtnLabel:"Sign up",btnRegisteredLabel:"Close",namePlaceholder:"Name*",emailPlaceholder:"Email*",passwordPlaceholder:"Password*",repeatPasswordPlaceholder:"Repeat Password*",notEqualErrorLabel:"Passwords must be equal",passwordErrorLabel:"Password required",nameErrorLabel:"Name required",emailErrorLabel:"Email required",emailNotValidLabel:"Valid email required",name:"",email:"",password:"",repeatPassword:"",highlightNameWithError:null,highlightEmailWithError:null,highlightPasswordWithError:null,highlightRepeatPasswordWithError:null,isFormSuccess:!1,regError:""}},computed:{isUserSignedUp:function(){return this.$store.getters.isUserSignedUp},openModal:function(){return!!this.$store.getters.isSignupModalOpen}},methods:{closeModal:function(){this.$store.commit("showSignupModal",!1)},register:function(t,e,s){return r.a.post("/api/register",{email:e,password:s,name:t})},checkForm:function(t){var e=this;t.preventDefault(),this.name&&this.email&&this.password&&this.repeatPassword&&this.register(this.name,this.email,this.password).then(function(t){e.highlightEmailWithError=!1,e.highlightPasswordWithError=!1,e.isFormSuccess=!0,e.$store.commit("setUserName",e.name),e.$store.commit("isUserSignedUp",e.isFormSuccess),e.$store.commit("isUserLoggedIn",e.isFormSuccess),e.regError=""}).catch(function(t){console.log(t.response),e.regError="Ошибка"}),this.name?this.highlightNameWithError=!1:this.highlightNameWithError=!0,this.email?this.highlightEmailWithError=!1:(this.highlightEmailWithError=!0,this.email&&!M(this.email)&&(this.emailErrorLabel=this.emailNotValidLabel)),this.password?this.highlightPasswordWithError=!1:this.highlightPasswordWithError=!0,this.repeatPassword?this.highlightRepeatPasswordWithError=!1:this.highlightRepeatPasswordWithError=!0},checkNameOnKeyUp:function(t){this.highlightNameWithError=!t},checkEmailOnKeyUp:function(t){t&&M(t)?this.highlightEmailWithError=!1:(this.highlightEmailWithError=!0,M(t)||(this.emailErrorLabel=this.emailNotValidLabel))},checkPasswordOnKeyUp:function(t){t?(this.highlightPasswordWithError=!1,this.repeatPassword===this.password?this.highlightRepeatPasswordWithError=!1:this.highlightRepeatPasswordWithError=!0):this.highlightPasswordWithError=!0},checkRepeatPasswordOnKeyUp:function(t){t&&t===this.password?this.highlightRepeatPasswordWithError=!1:this.highlightRepeatPasswordWithError=!0}}},O={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:[t.openModal?"is-active":"","modal"]},[s("div",{staticClass:"modal-background"}),t._v(" "),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[t.isUserSignedUp?t._e():s("p",{staticClass:"modal-card-title"},[t._v(t._s(t.modalTitle))]),t._v(" "),t.isUserSignedUp?s("p",{staticClass:"modal-card-title"},[t._v(t._s(t.modalTitleRegistered))]):t._e(),t._v(" "),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.closeModal}})]),t._v(" "),s("form",{attrs:{action:"#",method:"post"},on:{submit:t.checkForm}},[s("section",{staticClass:"modal-card-body"},[t.isUserSignedUp?t._e():s("div",[s("div",{staticClass:"field"},[s("p",{staticClass:"control has-icons-left has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],class:[t.highlightNameWithError?"input is-danger":"input"],attrs:{type:"text",placeholder:t.namePlaceholder},domProps:{value:t.name},on:{keyup:function(e){return t.checkNameOnKeyUp(t.name)},input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),null!==t.highlightNameWithError?s("span",{staticClass:"icon is-small is-right"},[s("i",{class:[t.highlightNameWithError?"fas fa-exclamation-circle":"fas fa-check"]})]):t._e()]),t._v(" "),t.highlightNameWithError?s("p",{staticClass:"help is-danger"},[t._v(t._s(t.nameErrorLabel))]):t._e()]),t._v(" "),s("div",{staticClass:"field"},[s("p",{staticClass:"control has-icons-left has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],class:[t.highlightEmailWithError?"input is-danger":"input"],attrs:{type:"email",placeholder:t.emailPlaceholder,name:"emailName"},domProps:{value:t.email},on:{keyup:function(e){return t.checkEmailOnKeyUp(t.email)},input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),t._m(1),t._v(" "),null!==t.highlightEmailWithError?s("span",{staticClass:"icon is-small is-right"},[s("i",{class:[t.highlightEmailWithError?"fas fa-exclamation-circle":"fas fa-check"]})]):t._e()]),t._v(" "),t.highlightEmailWithError?s("p",{staticClass:"help is-danger"},[t._v(t._s(t.emailErrorLabel))]):t._e()]),t._v(" "),s("div",{staticClass:"field"},[s("p",{staticClass:"control has-icons-left has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],class:[t.highlightPasswordWithError?"input is-danger":"input"],attrs:{type:"password",placeholder:t.passwordPlaceholder},domProps:{value:t.password},on:{keyup:function(e){return t.checkPasswordOnKeyUp(t.password)},input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),t._m(2),t._v(" "),null!==t.highlightPasswordWithError?s("span",{staticClass:"icon is-small is-right"},[s("i",{class:[t.highlightPasswordWithError?"fas fa-exclamation-circle":"fas fa-check"]})]):t._e()]),t._v(" "),t.highlightPasswordWithError?s("p",{staticClass:"help is-danger"},[t._v(t._s(t.passwordErrorLabel))]):t._e()]),t._v(" "),s("div",{staticClass:"field"},[s("p",{staticClass:"control has-icons-left has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.repeatPassword,expression:"repeatPassword"}],class:[t.highlightRepeatPasswordWithError?"input is-danger":"input"],attrs:{type:"password",placeholder:t.repeatPasswordPlaceholder},domProps:{value:t.repeatPassword},on:{keyup:function(e){return t.checkRepeatPasswordOnKeyUp(t.repeatPassword)},input:function(e){e.target.composing||(t.repeatPassword=e.target.value)}}}),t._v(" "),t._m(3),t._v(" "),null!==t.highlightRepeatPasswordWithError?s("span",{staticClass:"icon is-small is-right"},[s("i",{class:[t.highlightRepeatPasswordWithError?"fas fa-exclamation-circle":"fas fa-check"]})]):t._e()]),t._v(" "),t.highlightRepeatPasswordWithError?s("p",{staticClass:"help is-danger"},[t._v(t._s(t.notEqualErrorLabel))]):t._e()])]),t._v(" "),t.regError?s("div",{staticClass:"level"},[s("p",{staticClass:"help is-danger"},[t._v(t._s(t.regError))])]):t._e(),t._v(" "),t.isUserSignedUp?s("div",{staticClass:"level"},[s("div",{staticClass:"level-item has-text-centered"},[s("div",[s("p",{staticClass:"title"},[t._v("Welcome "+t._s(t.name)+"!")]),t._v(" "),s("p",{staticClass:"heading"},[t._v("Now you are a member")])])])]):t._e()]),t._v(" "),s("footer",{staticClass:"modal-card-foot"},[t.isUserSignedUp?t._e():s("button",{staticClass:"button is-success"},[t._v(t._s(t.primaryBtnLabel))]),t._v(" "),t.isUserSignedUp?s("button",{staticClass:"button is-info",attrs:{type:"button"},on:{click:t.closeModal}},[t._v(t._s(t.btnRegisteredLabel))]):t._e()])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fas fa-user"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fas fa-envelope"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fas fa-lock"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fas fa-lock"})])}]};var F=s("VU/8")(N,O,!1,function(t){s("ABr5")},"data-v-7ab18419",null).exports,V={name:"reset-component",data:function(){return{modalTitle:"Reset Password",primaryBtnLabel:"Reset",emailRequiredLabel:"Email required",emailNotValidLabel:"Valid email required",btnResetLabel:"Close",emailPlaceholder:"Your email",email:"",highlightEmailWithError:null,isFormSuccess:!1,resetError:""}},computed:{openModal:function(){return this.$store.getters.isResetModalOpen}},methods:{closeModal:function(){this.$store.commit("showResetModal",!1)},reset:function(t){var e={email:t};return r.a.post("/api/reset",e)},checkForm:function(t){var e=this;t.preventDefault(),this.email&&(this.highlightEmailWithError=!1,this.reset(this.email).then(function(t){console.log("success"),e.isFormSuccess=!0,e.resetError=!1}).catch(function(t){e.isFormSuccess=!1,e.resetError="Error: "+t.toString()})),this.email?this.highlightEmailWithError=!1:(this.highlightEmailWithError=!0,this.email&&!M(this.email)&&(this.emailRequiredLabel=this.emailNotValidLabel))},checkEmailOnKeyUp:function(t){t&&M(t)?this.highlightEmailWithError=!1:(this.highlightEmailWithError=!0,M(t)||(this.emailRequiredLabel=this.emailNotValidLabel))}}},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:[t.openModal?"is-active":"","modal"]},[s("div",{staticClass:"modal-background"}),t._v(" "),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("p",{staticClass:"modal-card-title"},[t._v(t._s(t.modalTitle))]),t._v(" "),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.closeModal}})]),t._v(" "),s("form",{attrs:{action:"#",method:"post"},on:{submit:t.checkForm}},[s("section",{staticClass:"modal-card-body"},[t.isFormSuccess?t._e():s("div",{staticClass:"level"},[s("div",{staticClass:"field"},[s("p",{staticClass:"control has-icons-left has-icons-right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],class:[t.highlightEmailWithError?"input is-danger":"input"],attrs:{type:"email",placeholder:t.emailPlaceholder,name:"emailName"},domProps:{value:t.email},on:{keyup:function(e){return t.checkEmailOnKeyUp(t.email)},input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),null!==t.highlightEmailWithError?s("span",{staticClass:"icon is-small is-right"},[s("i",{class:[t.highlightEmailWithError?"fas fa-exclamation-circle":"fas fa-check"]})]):t._e()]),t._v(" "),t.highlightEmailWithError?s("p",{staticClass:"help is-danger"},[t._v(t._s(t.emailRequiredLabel))]):t._e()])]),t._v(" "),t.resetError?s("div",{staticClass:"level"},[s("p",{staticClass:"help is-danger"},[t._v(t._s(t.resetError))])]):t._e(),t._v(" "),t.isFormSuccess?s("div",{staticClass:"level"},[t._m(1)]):t._e()]),t._v(" "),s("footer",{staticClass:"modal-card-foot"},[t.isFormSuccess?t._e():s("button",{staticClass:"button is-info",attrs:{type:"submit"}},[t._v(t._s(t.primaryBtnLabel))]),t._v(" "),t.isFormSuccess?s("button",{staticClass:"button is-info",attrs:{type:"button"},on:{click:t.closeModal}},[t._v(t._s(t.btnResetLabel))]):t._e()])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small is-left"},[e("i",{staticClass:"fas fa-envelope"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"level-item has-text-centered"},[e("div",[e("p",{staticClass:"title"},[this._v("Password Reset")]),this._v(" "),e("p")])])}]};var A=s("VU/8")(V,q,!1,function(t){s("lkd4")},null,null).exports,B=a.a.extend({name:"home-component"}),K={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var D={name:"Public",components:{"header-component":k,"login-modal-component":S,"registration-modal-component":F,"reset-modal-component":A,"home-component":s("VU/8")(B,K,!1,function(t){s("JBQx")},"data-v-bacfa0e2",null).exports}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("header-component"),this._v(" "),e("home-component"),this._v(" "),e("login-modal-component"),this._v(" "),e("registration-modal-component"),this._v(" "),e("reset-modal-component")],1)},staticRenderFns:[]};var J={name:"App",computed:{isUserLoggedIn:function(){return this.$store.getters.isUserLoggedIn}},components:{"public-component":s("VU/8")(D,T,!1,function(t){s("ySCg")},null,null).exports,"private-component":P}},z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[this.isUserLoggedIn?e("div",[e("private-component")],1):e("div",[e("public-component")],1)])},staticRenderFns:[]};var Y=s("VU/8")(J,z,!1,function(t){s("aGs5")},null,null).exports,j=s("/ocq");s("ao2D"),s("ZA4m"),s("j1ja");a.a.use(j.a);var H=new j.a({mode:"history",routes:[{path:"/",name:"App",component:Y,props:!0}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:H,store:f,components:{App:Y},template:"<App/>"})},ZA4m:function(t,e){},aGs5:function(t,e){},ao2D:function(t,e){},i9UK:function(t,e){},kE69:function(t,e){},lkd4:function(t,e){},ySCg:function(t,e){},zpPB:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8384bc1ae4f0d0e16e84.js.map